{
  "version": "5.0.1-beta.1",
  "timestamp": "2026-02-17T00:00:00Z",
  "skillSet": "comments",
  "hasDeltas": true,
  "deltas": [
    {
      "id": "delta-001",
      "type": "new_parameter",
      "releaseNoteText": "[Comments]: Added `clearContext` option to `PageModeComposerConfig` to control whether comment context is cleared after page mode composer submission. Set `clearContext: false` to preserve context data across submissions (defaults to `true`).",
      "releaseNoteVersion": "5.0.1-beta.1",
      "skillTarget": "comments",
      "action": "update_rule",
      "targetFile": "rules/shared/mode/mode-page.md",
      "targetSection": "Programmatic Page Mode Composer Control (v4.7.7+)",
      "summary": "Add `clearContext` boolean parameter to the `setContextInPageModeComposer()` code example, update the call signature to reflect the full `PageModeComposerConfig` interface shape (`context`, `targetElementId`, `clearContext`), and document the default-`true` / preserve-with-`false` behavior.",
      "details": {
        "apiName": "setContextInPageModeComposer",
        "apiType": "method",
        "signature": "setContextInPageModeComposer(config: PageModeComposerConfig): void",
        "parameters": [
          {
            "name": "config",
            "type": "PageModeComposerConfig",
            "required": true,
            "description": "Configuration object controlling what context is set and whether it is preserved after submission."
          },
          {
            "name": "config.context",
            "type": "object",
            "required": false,
            "description": "Custom key-value metadata to attach to the comment."
          },
          {
            "name": "config.targetElementId",
            "type": "string",
            "required": false,
            "description": "ID of the target element to associate the comment with."
          },
          {
            "name": "config.clearContext",
            "type": "boolean",
            "required": false,
            "description": "When false, preserves context data after page mode composer submission. Defaults to true (context is cleared after submission)."
          }
        ],
        "returnType": "void",
        "codeExample": "const commentElement = client.getCommentElement();\n// Preserve context across multiple submissions\ncommentElement.setContextInPageModeComposer({\n  context: { documentId: '123', section: 'intro' },\n  targetElementId: 'my-element',\n  clearContext: false\n});"
      },
      "confidence": "high",
      "ambiguityNote": null
    }
  ]
}
