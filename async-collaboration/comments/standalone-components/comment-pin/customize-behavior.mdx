---
title: "Customize Behavior"
---

## Events

#### onCommentPinClick

Listen to when a comment pin is clicked.

This event is triggered whenever a user clicks on a comment pin. You can use this to implement custom actions like navigation, analytics tracking, or custom dialog handling.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using Hook
const commentPinClickedEvent = useCommentEventCallback('onCommentPinClick');
useEffect(() => {
  if (commentPinClickedEvent) {
    console.log('Comment pin clicked:', commentPinClickedEvent);
    // Implement your custom logic here
  }
}, [commentPinClickedEvent]);

// Using API
const commentElement = client.getCommentElement();
commentElement.on('onCommentPinClick').subscribe((eventData) => {
  console.log('Comment pin clicked:', eventData);
  // Implement your custom logic here
});
```
</Tab>

<Tab title="Other Frameworks">
```html
<script>
  const commentElement = Velt.getCommentElement();
  commentElement.on('onCommentPinClick').subscribe((eventData) => {
    console.log('Comment pin clicked:', eventData);
    // Implement your custom logic here
  });
</script>
```
</Tab>
</Tabs>

Returns: [`CommentAnnotation`](/api-reference/sdk/models/data-models#commentannotation)

The event returns a `CommentAnnotation` object containing:

```typescript
{
  annotationId: string;           // Unique ID of the comment annotation
  comments: Comment[];            // Array of all comments in this thread
  from: User;                     // User who created the comment annotation
  context: any;                   // Custom context data attached to the comment
  location: Location | null;      // Location information
  status: CustomStatus;           // Status of the comment annotation
  annotationNumber: number;       // Fixed number for referencing the comment
  // ... additional properties
}
```

For the complete list of properties, see the [`CommentAnnotation` data model](/api-reference/sdk/models/data-models#commentannotation).

<Note>
The click event fires consistently across all comment pin types, including auto-generated pins and standalone comment pins created with the `VeltCommentPin` component.
</Note>

### Use Cases

**Navigate to specific view:**
```jsx
const commentPinClickedEvent = useCommentEventCallback('onCommentPinClick');
useEffect(() => {
  if (commentPinClickedEvent) {
    const { x, y } = commentPinClickedEvent.context.position;
    scrollToPosition(x, y);
  }
}, [commentPinClickedEvent]);
```

**Open custom comment UI:**
```jsx
const commentPinClickedEvent = useCommentEventCallback('onCommentPinClick');
useEffect(() => {
  if (commentPinClickedEvent) {
    openCustomCommentDialog(commentPinClickedEvent.annotationId);
  }
}, [commentPinClickedEvent]);
```

**Track analytics:**
```jsx
const commentPinClickedEvent = useCommentEventCallback('onCommentPinClick');
useEffect(() => {
  if (commentPinClickedEvent) {
    analytics.track('comment_pin_clicked', {
      commentId: commentPinClickedEvent.comments[0]?.commentId,
      annotationId: commentPinClickedEvent.annotationId,
    });
  }
}, [commentPinClickedEvent]);
```

### Using Props

You can also handle the click event directly on the `VeltCommentPin` component using the `onCommentPinClick` prop:

<Tabs>
<Tab title="React / Next.js">
```jsx
<VeltCommentPin 
  annotationId={commentAnnotation.annotationId}
  onCommentPinClick={(event) => {
    console.log('Comment pin clicked:', event);
    // Implement your custom logic here
  }}
/>
```
</Tab>

<Tab title="Other Frameworks">
```html
<velt-comment-pin 
  id="my-comment-pin"
  annotation-id="${commentAnnotation.annotationId}"
></velt-comment-pin>

<script>
const commentPinElement = document.getElementById('my-comment-pin');
commentPinElement?.addEventListener('onCommentPinClick', (event) => {
  console.log('Comment pin clicked:', event.detail);
  // Implement your custom logic here
});
</script>
```
</Tab>
</Tabs>
