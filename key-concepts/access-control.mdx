---
title: Access Control
---
There are two ways to manage access control of Velt features and data:
1. **On Demand Access Control:**
Your app may have a very complex and granular access control system in place. Instead of mapping that into Velt, this allows you to have complete flexibility with very little setup.
Instead of pre-syncing users and running a ongoing sync job, you can grant temporary time based access or permanent access to the resource.
Whenever the user logs in and accesses a resource in your app, you can use our API to grant or revoke access to Velt features and data on the fly.

2. **Synced Access Control:**
Use this if you have a traditional hierarchical access control system like Google Drive. This requires slightly more setup.
  - **Initial syncing**: Once you set up Velt, you can do a one time sync of your existing users in Velt.
  - **Ongoing syncing**: When a user is added or removed in your app, you will also need to add or remove them from Velt.


## 1. On Demand Access Control
### Types
- **Temporary access**: Access is granted for a specific time period.
- **Permanent access**: Access is granted permanently until you explicitly revoke it.


### During login

Generate a JWT token with the user's information and the resource id. [Learn more](/security/jwt-tokens)

<Tabs>
<Tab title="React / Next.js">
**Frontend:**
```js
<VeltProvider authProvider={{
  user,
  retryConfig: { retryCount: 3, retryDelay: 1000 },
  generateToken: async () => {
    const token = await __generateVeltAuthTokenFromYourBackend__();
    return token;
  }
}} />
```
**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)

</Tab>
<Tab title="Other Frameworks">
**Frontend:**
```js
Velt.setVeltAuthProvider({
  user,
  retryConfig: { retryCount: 3, retryDelay: 1000 },
  generateToken: async () => {
    const token = await __generateVeltAuthTokenFromYourBackend__();
    return token;
  }
});

```

**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)
</Tab>
</Tabs>


### When User switches between resources

**a. Add permissions**: Refer to [Add Permissions REST API](/api-reference/rest-apis/v2/auth/add-permissions)

**b. Remove permissions**: Refer to [Remove Permissions REST API](/api-reference/rest-apis/v2/auth/remove-permissions)


## 2. Synced Access Control
### Initial syncing
You can add users in bulk using [Add Users REST API](/api-reference/rest-apis/v2/users/add-users)

### During login
When you use identify API and have auto-create organization users enabled in [console](https://console.velt.dev/dashboard/config/appconfig), the user will be added to the organization after successful login.

### Ongoing syncing
When a user is added or removed in your app, you will also need to add or remove them from Velt using the:
- [Add Users REST API](/api-reference/rest-apis/v2/users/add-users)
- [Delete Users REST API](/api-reference/rest-apis/v2/users/delete-users)


## Access Control Types
These can be applied to `Folder` and `Document` resources.
- `public`: `default` Any user who successfully initializes the given Velt resource can access the resource data whether or not they are part of the resource.
- `organizationPrivate`: All users in the same organization as the resource can access the resource. 
- `restricted`: Only users explicitly added to the resource will have access.

**Changing access control types:**
- **Changing default:** You can change the default access control using the [console](https://console.velt.dev/dashboard/config/appconfig).

- **Changing access control for a specific resource:**
  - **Folder**: You can change the access control using the [REST API](/api-reference/rest-apis/v2/folders/update-folder-access).
  - **Document**: You can change the access control using the [REST API](/api-reference/rest-apis/v2/documents/update-document-access).

### Resources on which access control can be applied
1. Organization
2. Folder
3. Document

#### 1. Organization
- A user can be added to multiple organizations but can only log in to one organization at a time.
- By default, all organization users have access to all organization resources including folders, documents, locations and user contacts.
- Access to resources can be restricted by setting controls at the individual resource level.


#### 2. Folder
- A user can be added to multiple Folders but can only initialize one Folder at a time.
- By default, all Folder users have access to all Folder resources including sub folders, documents, locations and user contacts.
- Access to individual resources within the Folder **cannot** be restricted by setting controls at the individual resource level.
- Access of the Folder cascades to all resources within the Folder.


#### 3. Document
- A user can be added to multiple Documents **and** can initialize multiple documents at once.
- Document inherits the access control of the Organization and Folder it is in.
- You can set Document level access control to override the Organization's access control it inherited but not the Folder's access control.