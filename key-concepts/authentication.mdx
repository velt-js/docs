---
title: Authentication
---

There are two ways to authenticate a user in Velt.

1. Using an Auth Provider (recommended)
2. Using Identify method




### 1. Use Auth Provider
In this approach, you set an auth provider with the User you want to authenticate and a method that returns a JWT token.
The method will be called whenever Velt needs a token - during first sign in and when the token expires.
This needs to be defined in Velt Provider during initialization.

<Tabs>
<Tab title="React / Next.js">
**Frontend:**
```js
<VeltProvider authProvider={{
  user,
  retryConfig: { retryCount: 3, retryDelay: 1000 },
  generateToken: async () => {
    const token = await __generateVeltAuthTokenFromYourBackend__();
    return token;
  }
}} />
```
**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)

</Tab>
<Tab title="Other Frameworks">
**Frontend:**
```js
Velt.setVeltAuthProvider({
  user,
  retryConfig: { retryCount: 3, retryDelay: 1000 },
  generateToken: async () => {
    const token = await __generateVeltAuthTokenFromYourBackend__();
    return token;
  }
});

```

**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)
</Tab>
</Tabs>


### 2. Use Identify with JWT Token
In this approach, you will call the identify with the user object and a JWT token.
Here you are responsible for re-generating a JWT token whenever it expires.
This gives you more flexibility on when and where to initialize the user and generate the token.

<Tabs>
<Tab title="React / Next.js">
**Using Hook:**
```js
  const user = {
    userId: uid,
    organizationId: organizationId, // this is the organization id the user belongs to. You should always use this.
    name: displayName,
    email: email,
    photoUrl: photoURL,
    color: colorCode, // Use valid Hex code value. Used in the background color of the user's avatar.
    textColor: textColor // Use valid Hex code value. Used in the text color of the user's intial when photoUrl is not present.
  };

  useIdentify(user, {
    authToken: authToken, // this is optional but highly recommended.
  });
```

**Using API:**
```js
await client.identify(user, {
    authToken: authToken, // this is optional but highly recommended.
});
```

**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)

</Tab>
<Tab title="Other Frameworks">
**Using API:**
```js
await Velt.identify(user, {
    authToken: authToken, // this is optional but highly recommended.
});
```

**Backend:**
Refer to [Generate Token REST API](/api-reference/rest-apis/v2/auth/generate-token)
</Tab>
</Tabs>

#### Force re-login user
By default when you identify a User, we maintain the user auth in the browser unless you explicitly sign out the logged in user.

If you are changing a User's access or any metadata and want those changes to be reflected immediately,
then you should re-call the `identify` method with `forceReset` option set to `true`.
`Default: false`

```js
await client.identify(user, {
  forceReset: true
});

```