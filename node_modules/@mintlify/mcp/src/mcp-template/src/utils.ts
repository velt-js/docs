import axios from 'axios';

export function formatErr(err: unknown) {
  if (axios.isAxiosError(err)) {
    if (err.message) {
      return err.message;
    } else if (err.response) {
      return err.response.data?.error ?? `${err.response.status} ${err.response.statusText}`;
    } else if (err.request) {
      return 'No response received from server';
    } else {
      err = 'An unknown error occurred';
    }
  } else if (err instanceof Error) {
    return err.message;
  } else {
    return JSON.stringify(err, undefined, 2);
  }
}
