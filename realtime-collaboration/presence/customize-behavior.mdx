---
title: "Customize Behavior"
---
# Configuration

#### inactivityTime
- Configure when a user is considered inactive after being inactive.
- These are considered as inactive:
  - no mouse movement
  - no keyboard activity
- This is in milliseconds.
- This will set the following fields in the presence user object:
  - `onlineStatus` to `away`
  - `isUserIdle` to `true`

Note about tab focus:
- If a user's tab is unfocused, we immediately update following fields in the presence user object:
  - `onlineStatus` to `away`
  - `isTabAway` to `true`

Default: `300000` (5 min)

![](/images/presence/inactivity.png)

<Tabs>
  <Tab title="React / Next.js">

```js
<VeltPresence inactivityTime={30000} />
```
Using API:
```js
const presenceElement = client.getPresenceElement();
presenceElement.setInactivityTime(30000);
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-presence inactivity-time="30000"></velt-presence>
```
Using API:
```js
const presenceElement = Velt.getPresenceElement();
presenceElement.setInactivityTime(30000);
```
</Tab>
</Tabs>


#### maxUsers

- Set how many `Presence` avatars to display at a time.
- You can set this via the `maxUsers` attribute. Any extra avatars will be hidden and shown in an avatar which indicates the number of extra `Users`.

![](/images/presence/Presence_Max_Users.png)

<Tabs>
  <Tab title="React / Next.js">
```js
<VeltPresence maxUsers={3} />
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-presence max-users="3"></velt-presence>
```
</Tab>
</Tabs>


#### offlineInactivityTime
- Configure when a user is considered offline if they do not take any action on the document within the specified timeframe.
- User is also marked offline if they lose internet connection.
- This is in milliseconds.
- This will set the `onlineStatus` field in the presence user object to `offline` if they are inactive for the given time.

Default: `600000` (10 min)

<Tabs>
<Tab title="React / Next.js">
```jsx
<VeltPresence offlineInactivityTime={600000} />
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-presence offline-inactivity-time="600000"></velt-presence>
```
</Tab>
</Tabs>


#### self
- Whether to include yourself in the list of `Presence` users.
- Default: `true`

![](/images/presence/self.png)

<Tabs>
  <Tab title="React / Next.js">
```js
<VeltPresence self={false} />
````

API Method:
```jsx
const presenceElement = client.getPresenceElement();
presenceElement.enableSelf();
presenceElement.disableSelf();
```
</Tab>

<Tab title="Other Frameworks">
```html
<velt-presence self="false"></velt-presence>
```
API Method:
```jsx
const presenceElement = Velt.getPresenceElement();
presenceElement.enableSelf();
presenceElement.disableSelf();
```
</Tab>

</Tabs>

#### locationId
- Renders the Presence avatar if any user is active on the given `locationId`.
![](/images/presence/Location.png)

<Tabs>
  <Tab title="React / Next.js">
```js
<VeltPresence locationId={"YOUR_LOCATION_ID"} />
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-presence location-id="YOUR_LOCATION_ID"></velt-presence>
```
</Tab>

</Tabs>


# Data
#### getOnlineUsersOnCurrentDocument
- Subscribe to a list of all online users who are either active or inactive on the current document.

<Tabs>
  <Tab title="React / Next.js">

Using Hooks:

```jsx
const presenceUsers = usePresenceUsers();

useEffect(() => {
    if (presenceUsers) {
      console.log("Online users: ", presenceUsers);
    }
  }, [presenceUsers]);
```

**Using API:**
```jsx
const presenceElement = usePresenceUtils();
useEffect(() => {
    if (presenceElement) {
      presenceElement.getOnlineUsersOnCurrentDocument().subscribe((presenceUsers) => {
        console.log("Online users: ", presenceUsers);
      });
    }
  }, [presenceElement]);
```
</Tab>
<Tab title="Other Frameworks">
```jsx
const presenceElement = Velt.getPresenceElement();
presenceElement.getOnlineUsersOnCurrentDocument().subscribe((presenceUsers) => {
  console.log("Online users: ", presenceUsers);
});
```
</Tab>
</Tabs>


# Event Subscription
#### on

- Subscribe to Presence Events. Here is the list of events you can subscribe to and the event objects you will receive.

| Event Type | Description | Event Object |
|------------|-------------|--------------|
| `userOnline` | Triggered when a user is online | [PresenceUserOnlineEvent](/api-reference/sdk/models/api-event-objects#presenceuseronlineevent) |
| `userOffline` | Triggered when a user is offline | [PresenceUserOfflineEvent](/api-reference/sdk/models/api-event-objects#presenceuserofflineevent) |
| `userAway` | Triggered when a user is away | [PresenceUserAwayEvent](/api-reference/sdk/models/api-event-objects#presenceuserawayevent) |

<Tabs>
      <Tab title="React / Next.js">
        ```jsx
        // Using hook
        const userOnlineEvent = usePresenceEventCallback('userOnline');
        useEffect(() => {
            if (userOnline) {
                console.log('User is online: ', userOnlineEvent);
            }
        }, [userOnlineEvent]);

        const userOfflineEvent = usePresenceEventCallback('userOffline');
        useEffect(() => {
            if (userOfflineEvent) {
                console.log('User is offline: ', userOfflineEvent);
            }
        }, [userOfflineEvent]);

        const userAwayEvent = usePresenceEventCallback('userAway');
        useEffect(() => {
            if (userAwayEvent) {
                console.log('User is away: ', userAwayEvent);
            }
        }, [userAwayEvent]);

        // Using API
        const presenceElement = client.getPresenceElement();

        presenceElement.on("userOnline").subscribe((userOnlineEvent) => {
            console.log("User is online", userOnlineEvent);
        });

        presenceElement.on("userOffline").subscribe((userOfflineEvent) => {
            console.log("User is offline", userOfflineEvent);
        });

        presenceElement.on("userAway").subscribe((userAwayEvent) => {
            console.log("User is away", userAwayEvent);
        });
        
        ```
      </Tab>
      <Tab title="Other Frameworks">
        ```js
        const presenceElement = Velt.getPresenceElement();

        presenceElement.on("userOnline").subscribe((userOnlineEvent) => {
            console.log("User is online", userOnlineEvent);
        });

        presenceElement.on("userOffline").subscribe((userOfflineEvent) => {
            console.log("User is offline", userOfflineEvent);
        });

        presenceElement.on("userAway").subscribe((userAwayEvent) => {
            console.log("User is away", userAwayEvent);
        });
        ```
      </Tab>
    </Tabs>

#### onPresenceUserChange
- Whenever the `Presence` for any `User` changes, we emit this event with the updated list of `Users` currently online on this document.

<Tabs>
  <Tab title="React / Next.js">
```js
<VeltPresence onPresenceUserChange={(presenceUsers) => yourMethod(presenceUsers)} />
```
</Tab>
<Tab title="Other Frameworks">
```js
if(Velt){
  const presenceElement = client.getPresenceElement();
  presenceElement.addEventListener('onPresenceUserChange', (event) => {
    console.log("onPresenceUserChange", event.detail);
  });
}
```
</Tab>
</Tabs>

#### onPresenceUserClick
- To handle click events on `Presence` avatar circles, pass an event handler to the  `onPresenceUserClick` event.

![](/images/presence/onPresenceUserClick.png)

<Tabs>
  <Tab title="React / Next.js">
```jsx
const onPresenceUserClickEvent = (user) => {
  console.log("Clicked presence user: ", user);
}
	
<VeltPresence onPresenceUserClick={(user) => onPresenceUserClickEvent(user)} />
```
</Tab>
<Tab title="Other Frameworks">
```jsx
const presenceTag = document.querySelector('velt-presence');
	presenceTag.addEventListener('onPresenceUserClick', (event) => {
		console.log("Clicked presence user: ", event.detail);
});
```
</Tab>
</Tabs>

