# 3.0.29

## New Features

- [**Comments**]: Added ability to control whether comments inside the annotation should be collapsed.

<Tabs>
  <Tab title="React / Next.js">
  Using Props:
    ```jsx
    <VeltComments collapsedComments={false} />
    ```

    Using API:
    ```javascript
    const commentElement = client.getCommentElement();
    commentElement.enableCollapsedComments();
    commentElement.disableCollapsedComments();
    ```
  </Tab>
  
  <Tab title="HTML / Other Frameworks">
  Using Props:
    ```html
    <velt-comments collapsed-comments="false"></velt-comments>
    ```
    Using API:
    ```javascript
    const commentElement = Velt.getCommentElement();
    commentElement.enableCollapsedComments();
    commentElement.disableCollapsedComments();
    ```
  </Tab>
</Tabs>

- [**Comments**]: Added ability to get comment annotation by ID.

<Tabs>
  <Tab title="React / Next.js">
  Using Hooks:
    ```jsx
    const annotation = useCommentAnnotationById({
      annotationId: '-O6W3jD0Lz3rxuDuqQFx',  // AnnotationID
      documentId: 'document-id'              // DocumentId (Optional)
    });

    React.useEffect(() => {
      console.log('annotation', annotation);
    }, [annotation]);
    ```

    Using API:
    ```javascript
    const commentElement = client.getCommentElement();

    commentElement.getCommentAnnotationById({
      annotationId: '-O6W3jD0Lz3rxuDuqQFx',  // AnnotationID
      documentId: 'document-id'              // DocumentId (Optional)
    }).subscribe((annotation) => {
      console.log('annotation', annotation);
    });
    ```
  </Tab>
  
  <Tab title="HTML / Other Frameworks">
    Using API:
    ```javascript
    const commentElement = Velt.getCommentElement();

    commentElement.getCommentAnnotationById({
      annotationId: '-O6W3jD0Lz3rxuDuqQFx',  // AnnotationID
      documentId: 'document-id'              // DocumentId (Optional)
    }).subscribe((annotation) => {
      console.log('annotation', annotation);
    });
    ```
  </Tab>
</Tabs>


- [**Notifications**]: Added API to mark all notifications as read.
  - Mark all notifications as read, either globally or for a specific tab.
  - Using 'all' or 'document' as the `tabId` marks all notifications as read across all tabs (equivalent to calling `setAllNotificationsAsRead()` without arguments).
  - Using 'for-you' as the `tabId` only marks notifications in the 'for-you' tab as read.
<Tabs>
  <Tab title="React / Next.js">
    ```javascript
    const notificationElement = client.getNotificationElement();
    
    // Mark all notifications as read
    notificationElement.setAllNotificationsAsRead();
    
    // Mark all notifications as read for a specific tab
    notificationElement.setAllNotificationsAsRead({ tabId: 'for-you' });
    notificationElement.setAllNotificationsAsRead({ tabId: 'all' });
    notificationElement.setAllNotificationsAsRead({ tabId: 'document' });
    ```
  </Tab>
  
  <Tab title="HTML / Other Frameworks">
    ```javascript
    const notificationElement = Velt.getNotificationElement();
    
    // Mark all notifications as read
    notificationElement.setAllNotificationsAsRead();
    
    // Mark all notifications as read for a specific tab
    notificationElement.setAllNotificationsAsRead({ tabId: 'for-you' });
    notificationElement.setAllNotificationsAsRead({ tabId: 'all' });
    notificationElement.setAllNotificationsAsRead({ tabId: 'document' });
    ```
  </Tab>
</Tabs>

## Bug Fixes

- [**UI Customization**]: Fixed an issue in `velt if` where string comparisions were not working as expected.


# 3.0.28

## New Features

- [**Comments**]: Added a reset filter button wireframe in multithread comment dialog.

- [**Notifications**]: Added a notifications panel loading state skeleton with wireframes.

## Bug Fixes

- [**Comments**]: Fixed an issue where draft comments were not being saved for multithread comments in some cases.
- [**Comments**]: Fixed an issue where in inline mode, when editing a comment, the annotation was not being selected.
