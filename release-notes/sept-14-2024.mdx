# 3.0.11

## New Features
- [**UI Customization**]: Added **Conditional Templates**! These let you conditionally show or hide parts of the Velt Component Wireframes.
  - You can add conditions based on the same data models available in [Template Variables](/advanced-customization/template-variables).

  <Tabs>
  <Tab title="React / Next.js">
  ```jsx
  <VeltIf condition="{annotation.status.id} === 'OPEN' && {annotation.comments.length} === 3">
    {/* Content to render if condition is true */}
  </VeltIf>
  ```
  </Tab>

  <Tab title="HTML / Other Frameworks">
  ```html
  <velt-if condition="{annotation.status.id} === 'OPEN' && {annotation.comments.length} === 3">
    <!-- Content to render if condition is true -->
  </velt-if>
  ```
  </Tab>
  </Tabs>

- [**UI Customization**]: You can now customize confirmation dialogs (eg: Delete thread, Delete recorder etc) for each feature by defining variants.
  - Supported variants: `recorder`, `comment`, `arrow`, `area`.

<Tabs>
  <Tab title="React / Next.js">
  ```jsx
    <VeltWireframe>
      <VeltConfirmDialogWireframe variant="comment">
        <div>
          <VeltConfirmDialogWireframe.Title>
            Custom Title
          </VeltConfirmDialogWireframe.Title>

          <VeltConfirmDialogWireframe.Message>
            Custom Message
          </VeltConfirmDialogWireframe.Message>

          <VeltConfirmDialogWireframe.RejectButton>
            Custom Reject Button
          </VeltConfirmDialogWireframe.RejectButton>

          <VeltConfirmDialogWireframe.ApproveButton>
            Custom Approve Button
          </VeltConfirmDialogWireframe.ApproveButton>
        </div>
      </VeltConfirmDialogWireframe>
    </VeltWireframe>
```
  </Tab>
  <Tab title="HTML / Other Frameworks">
  ```html
    <velt-wireframe style="display:none">
      <velt-confirm-dialog-wireframe variant="comment">
        <div>
          <velt-confirm-dialog-title-wireframe>
            Custom Title
          </velt-confirm-dialog-title-wireframe>

          <velt-confirm-dialog-message-wireframe>
            Custom Message
          </velt-confirm-dialog-message-wireframe>

          <velt-confirm-dialog-reject-button-wireframe>
            Custom Reject Button
          </velt-confirm-dialog-reject-button-wireframe>

          <velt-confirm-dialog-approve-button-wireframe>
            Custom Approve Button
          </velt-confirm-dialog-approve-button-wireframe>
        </div>
      </velt-confirm-dialog-wireframe>
    </velt-wireframe>
  ```
  </Tab>
</Tabs>

- [**UI Customization**]: Added two new global [Template Variables](/advanced-customization/template-variables):
  - `unreadCommentAnnotationCount`: Number of unread comment annotations on the current document.
  - `unreadCommentCount`: Total number of unread comments on the current document.

- [**Comments**]: Added `updateContext` method for updating custom metadata (`context`) on comment annotations. [Learn more](/async-collaboration/comments/customize-behavior/custom-metadata#2-update-custom-metadata-on-comment-annotation). This method is available in two scenarios:

  1. **In the `onCommentUpdate` event callback:**
   Use this to update the context when a comment is modified.

  2. **Via the `updateContext` API method:**
   Utilize this method to update the context of a comment annotation at any time. For example, you might use this when the name of the dashboard containing the comment annotation changes.

## Improvements
- [**Comments**]: Updated the icon for the Unresolve button.
- [**Comments**]: Whenever the comment sidebar is opened using the button or the api, any open comment dialog will be closed.
- [**Comments**]: Made position of the reaction tool consistent across different states and content types in the comment dialog.

## Bug Fixes
- [**Comments**]: Fixed the flicker issue when new popover comment thread was created. This only happened when the triangle component was disabled.
- [**Comments**]: Fixed minor rendering issue with the @mention chip when it was added at the end of the content.
- [**Velt Components**]: Reduced the default z-index for all Velt Components to prevent them from going over the host app's header or any other important UI elements.
- [**Comments**]: Fixed menu overlay positioning to stay with its trigger during page scrolling.