---
title: "Velt SDK Changelog"
rss: true
description: Release Notes of changes added to the core Velt SDK
---

### Libraries
- `@veltdev/react`
- `@veltdev/client`
- `@veltdev/sdk`

<Update label="5.0.1-beta.2" description="February 16, 2026">

### New Features

- [**Comments**]: Added `enableAttachmentDownload()` / `disableAttachmentDownload()` API methods and an `attachmentDownload` prop on `<VeltComments>` to control whether clicking an attachment triggers a file download. A new `attachmentDownloadClicked` event fires on every attachment click regardless of the download setting, letting you intercept clicks for custom viewers, analytics, or access control. Download is enabled by default so there is no breaking change.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Declarative prop
<VeltComments attachmentDownload={false} />

// Using API methods
const commentElement = client.getCommentElement();
commentElement.enableAttachmentDownload();
commentElement.disableAttachmentDownload();

// Listening to the event
const handleAttachmentDownloadClicked = useCommentEventCallback('attachmentDownloadClicked');

useEffect(() => {
  if (handleAttachmentDownloadClicked) {
    console.log('Attachment clicked:', handleAttachmentDownloadClicked.attachment.attachmentId);
    console.log('Annotation ID:', handleAttachmentDownloadClicked.annotationId);
  }
}, [handleAttachmentDownloadClicked]);
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-comments attachment-download="false"></velt-comments>

<script>
const commentElement = Velt.getCommentElement();
commentElement.enableAttachmentDownload();
commentElement.disableAttachmentDownload();

commentElement.on('attachmentDownloadClicked').subscribe((event) => {
  console.log('Attachment clicked:', event.attachment.attachmentId);
  console.log('Annotation ID:', event.annotationId);
});
</script>
```
</Tab>
</Tabs>

The exported `AttachmentDownloadClickedEvent` interface has the following shape:

```ts
interface AttachmentDownloadClickedEvent {
  annotationId: string;
  commentAnnotation: CommentAnnotation;
  attachment: Attachment;
  metadata?: VeltEventMetadata;
}
```

### Improvements

- [**Comments**]: The wireframe template for the resolve and unresolve buttons in the assignee banner is now nested inside the button component rather than wrapping it, giving custom wireframes direct access to button state, styling, and event handlers. The affected wireframes are `velt-comment-dialog-assignee-banner-resolve-button-wireframe` and `velt-comment-dialog-assignee-banner-unresolve-button-wireframe`.

- [**Comments**]: Added CSS classes to comment composer attachment components to reflect loading and edit-mode states: `.velt-composer-attachment-container`, `.velt-composer-attachment--loading`, and `.velt-composer-attachment--edit-mode`.

- [**Comments**]: Added `.s-comment-dialog-assign-to-menu` and `.velt-thread-card--assign-to-menu` CSS classes to the assign-to menu component for more granular styling control.

### Bug Fixes

- [**Comments**]: Added `'iframe'` to the list of non-nestable elements so that `getHostElement()` returns the iframe's parent element instead of attempting to place a comment pin inside the iframe document context.

- [**Comments**]: Fixed a regression where navigating back from a focused thread triggered an unintended draft auto-save. A guard now skips auto-save when the focused thread dialog is destroyed via back navigation.

- [**Comments**]: Fixed stale selection state in the sidebar after back-navigating from a focused annotation. The annotation is now properly deselected from the internal selection map on exit.

- [**Comments**]: Thread card attachment components now use `isTemplateEmpty()` to detect empty wireframe templates instead of a truthy check, so attachments correctly fall back to default rendering when an empty wireframe is provided.

- [**Comments**]: Custom thread card wireframes that do not include an edit composer wireframe now automatically render the default edit composer, so inline comment editing remains functional without requiring wireframe changes.

</Update>

<Update label="5.0.1-beta.1" description="February 13, 2026">

### New Features

- [**Comments**]: Added `clearContext` option to `PageModeComposerConfig` to control whether comment context is cleared after page mode composer submission. Set `clearContext: false` to preserve context data across submissions (defaults to `true`).

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using Hooks
const commentElement = useCommentUtils();
commentElement.setContextInPageModeComposer({
  context: { documentId: '123', section: 'intro' },
  targetElementId: 'my-element',
  clearContext: false
});

// Using API methods
const commentElement = client.getCommentElement();
commentElement.setContextInPageModeComposer({
  context: { documentId: '123', section: 'intro' },
  targetElementId: 'my-element',
  clearContext: false
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();
commentElement.setContextInPageModeComposer({
  context: { documentId: '123', section: 'intro' },
  targetElementId: 'my-element',
  clearContext: false
});
</script>
```
</Tab>
</Tabs>

### Bug Fixes

- [**Comments**]: Removed host CSS classes `velt-composer-open` and `velt-composer-input-focused` from the Comment Dialog Composer component. If your custom styles targeted these classes, update your selectors accordingly.

- [**Comments**]: Fixed wireframe template forwarding in Comment Dialog so custom templates set via `dialogTemplate` are now correctly applied to all child components.

- [**Comments**]: Fixed nested wireframe template extraction in Comment Dialog Threads so custom `velt-comment-dialog-thread-card-wireframe` and `velt-comment-dialog-more-reply-wireframe` templates are correctly applied.

- [**Comments**]: Fixed Mark as Read/Unread wireframe template structure so custom wireframe templates now provide proper control over the button's internal elements.

- [**Comments**]: Added proper wireframe template wrapper to the parent Mark as Read component with a clickable container that includes accessibility attributes for the toggle action.

- [**Comments**]: Fixed comment annotation data resolution in button click handlers so `commentAnnotation` context data now correctly resolves from the updated component config structure.

</Update>


<Update label="5.0.0-beta.13" description="February 10, 2026">

### New Features

- [**Notifications**]: Added ability to enable organization-level notification settings. This allows you to configure notifications once for all documents in an organization instead of per document.

<Tabs>
<Tab title="React / Next.js">
```jsx
  <VeltNotificationsPanel
    enableSettingsAtOrganizationLevel={true}
    settings={true}
  />
  {/* or */}
  <VeltNotificationsTool
    enableSettingsAtOrganizationLevel="true"
    settings={true}
  />

// Using API methods
const notificationElement = client.getNotificationElement();
// Enable organization-level settings
notificationElement.enableSettingsAtOrganizationLevel();

// Disable organization-level settings
notificationElement.disableSettingsAtOrganizationLevel();
```
</Tab>
<Tab title="Other Frameworks">
```html
<!-- Using panel or tool components -->
<velt-notifications-panel
  enable-settings-at-organization-level="true"
  settings="true">
</velt-notifications-panel>
<!-- or -->
<velt-notifications-tool
  enable-settings-at-organization-level="true"
  settings="true">
</velt-notifications-tool>

<script>
// Using API methods
const notificationElement = Velt.getNotificationElement();

// Enable organization-level settings
notificationElement.enableSettingsAtOrganizationLevel();

// Disable organization-level settings
notificationElement.disableSettingsAtOrganizationLevel();
</script>
```
</Tab>
</Tabs>
</Update>


<Update label="5.0.0-beta.12" description="February 6, 2026">

### Improvements

- [**Comments**]: Comments sidebar group-by views now display "Unassigned" for annotations without assignees and "Untagged" for annotations without tagged users.

### Bug Fixes

- [**Comments**]: Fixed an issue where image attachments in comment dialog were not opening in a lightbox view.

- [**Comments**]: Fixed an issue where sometimes user mentions did not include the leading `@` symbol in display text.

- [**Comments**]: Fixed an issue where the recorder control panel in comment dialog composer did not appear when a valid comment dialog ID was not present in component configuration.

- [**Comments**]: Fixed an issue where assignment and private comment options did not respect explicit configuration in sidebar mode.

- [**Comments**]: Fixed an issue where the comment dialog internal tag was changed from `snippyly-comment-dialog` to `velt-comment-dialog-internal` for correct sidebar focus and keyboard behavior.

</Update>


<Update label="5.0.0-beta.11" description="February 4, 2026">

### Improvements

- [**Comments**]: Added ability to enable/disable Private Comments feature in [Velt Console](https://console.velt.dev/dashboard/config/appconfig)

</Update>


<Update label="5.0.0-beta.10" description="February 3, 2026">

### Improvements

- [**Comments**]: Added `batchedPerDocument` mode for `getCommentAnnotationsCount()` that makes the query more efficient by up to 80% while maintaining per-document granularity. Very useful for UIs that need to display comment counts for 100 documents or less on the same page.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using hook
const commentElement = useCommentUtils();
const counts = commentElement.getCommentAnnotationsCount({
  documentIds: ['doc-1', 'doc-2', ..., 'doc-100'],
  batchedPerDocument: true
});

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
const counts = commentElement.getCommentAnnotationsCount({
  documentIds: ['doc-1', 'doc-2', ..., 'doc-100'],
  batchedPerDocument: true,
  debounceMs: 5000
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();
const counts = commentElement.getCommentAnnotationsCount({
  documentIds: ['doc-1', 'doc-2', ..., 'doc-100'],
  batchedPerDocument: true
});

const countsWithDebounce = commentElement.getCommentAnnotationsCount({
  documentIds: ['doc-1', 'doc-2', ..., 'doc-100'],
  batchedPerDocument: true,
  debounceMs: 5000
});
</script>
```
</Tab>
</Tabs>

**Return Format:**
```typescript
{
  data: {
    "doc-1": { total: 10, unread: 2 },
    "doc-2": { total: 15, unread: 5 }
  }
}
```

</Update>


<Update label="5.0.0-beta.9" description="January 31, 2026">
### Bug Fixes
- [**Comments**]: Fixed draft mode not working properly. Draft content is now preserved when the dialog is closed and the shake animation now works as expected.

- [**Comments**]: Fixed context property access in `velt-data` elements. Templates can now access context properties using `{context.propertyName}` patterns.

- [**Comments**]: Fixed edit mode state persisting after dialog close. Reopening the dialog now shows the normal view instead of the edit composer.

- [**Comments**]: Fixed text reappearing when using select-all-and-delete in edit mode composer. Users can now properly delete all text in edit mode.

- [**Comments**]: Fixed links in comment body not clickable. Clicking links in comment text now opens them in a new tab.

- [**Comments**]: Fixed paste handling. Pasting a URL over selected text creates a hyperlink, multiline text preserves line breaks, and images paste as attachments.

- [**Comments**]: Fixed ghost comment banners not displaying. "Comment is syncing..." messages now properly show while annotation data is loading.

- [**Comments**]: Fixed priority selection not working on new annotations. Users can now set priority before submitting the first comment.

- [**Comments**]: Fixed email detection after @ symbol. Typing `@user@example.com` and pressing space now creates an email mention.

- [**Comments**]: Fixed recording in progress flag not clearing. Dialog now properly closes on click outside after recording finishes.

- [**Comments**]: Fixed links and @here mentions not highlighted in comment text. URLs are now styled as clickable links and @here mentions are properly highlighted.

</Update>


<Update label="5.0.0-beta.8" description="January 30, 2026">

### New Features

- [**Comments**]: Introducing Private Comments feature: Added `updateVisibility()` method to programmatically set comment access (public, organization, or private). [Learn more](/async-collaboration/comments/customize-behavior#updatevisibility)

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using hook
const commentElement = useCommentUtils();

// Set comment to organization-only
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'organization',
  organizationId: 'org-123'
});

// Set comment to private (specific users)
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'self',
  userIds: ['user-1', 'user-2']
});

// Set comment to public
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'public'
});

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'organization',
  organizationId: 'org-123'
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();

// Set comment to organization-only
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'organization',
  organizationId: 'org-123'
});

// Set comment to private (specific users)
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'self',
  userIds: ['user-1', 'user-2']
});

// Set comment to public
commentElement.updateVisibility({
  annotationId: "annotationId",
  type: 'public'
});
</script>
```
</Tab>
</Tabs>

### Bug Fixes

- [**Comments**]: Fixed mentioned users not receiving notifications. Users @mentioned in comments now correctly receive notifications.

- [**Comments**]: Fixed notification action type validation. Clients only receive data for valid event types.

- [**Comments**]: Fixed status reset when deleting comments. Status now only resets when current status is terminal.

</Update>


<Update label="5.0.0-beta.7" description="January 28, 2026">

### New Features

- [**Comments**]: Added `addCommentAnnotationDraft` event to dynamically set context when creating comment annotations. Triggered before `addCommentAnnotation` event clicks on the comment tool and the composer is rendered.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using hook
const addCommentAnnotationDraftEvent = useCommentEventCallback('addCommentAnnotationDraft');

useEffect(() => {
    if (addCommentAnnotationDraftEvent?.addContext) {
        addCommentAnnotationDraftEvent.addContext({
            questionId: '123',
            questionText: 'What is the capital of France?',
        });
    }
}, [addCommentAnnotationDraftEvent]);

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
commentElement.on('addCommentAnnotationDraft').subscribe((event) => {
    if (event?.addContext) {
        event.addContext({
            questionId: '123',
            questionText: 'What is the capital of France?',
        });
    }
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();
commentElement.on('addCommentAnnotationDraft').subscribe((event) => {
    if (event?.addContext) {
        event.addContext({
            questionId: '123',
            questionText: 'What is the capital of France?',
        });
    }
});
</script>
```
</Tab>
</Tabs>

### Improvements

- [**Comments**]: Added `setContextProvider` method to set a global context provider for all comment annotations. Also added `useSetContextProvider` hook for React applications.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using hook
import { useCallback, useEffect } from 'react';
import { useSetContextProvider } from '@veltdev/react';

const contextProvider = useCallback((documentId, location) => {
    return {
        questionId: '123',
        questionText: 'What is the capital of France?',
    }
}, []);

const { setContextProvider } = useSetContextProvider();

useEffect(() => {
    if (setContextProvider && contextProvider) {
        setContextProvider(contextProvider);
    }
}, []);

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
commentElement.setContextProvider((documentId, location) => {
    return {
        questionId: '123',
        questionText: 'What is the capital of France?',
    }
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();
commentElement.setContextProvider((documentId, location) => {
    return {
        questionId: '123',
        questionText: 'What is the capital of France?',
    }
});
</script>
```
</Tab>
</Tabs>

</Update>


<Update label="5.0.0-beta.6" description="January 28, 2026">

### Bug Fixes

- [**Core**]: Fixed package integrity issue in v5.0.0-beta.5.

</Update>


<Update label="5.0.0-beta.5" description="January 28, 2026">

### Bug Fixes

- [**Comments**]: Fixed page mode and multi-thread annotation ID not found error. Page mode and multi-thread comments now work as expected.

- [**Comments**]: Fixed `updateOverlayPosition` function not triggering. Comment dialog now opens in the correct position.

- [**Comments**]: Fixed unread status issues in inline and focused thread modes. Annotations are now marked as read when opened or clicked.

- [**Comments**]: Fixed three-dot menu not visible in sidebar.

- [**Comments**]: Fixed composer not being focused when opened.

- [**Comments**]: Fixed comments navigating on click. Comments now only navigate when the navigation button is clicked.

</Update>


<Update label="5.0.0-beta.4" description="January 23, 2026">

### Bug Fixes

- [**Comments**]: Fixed `lastUpdated` timestamp not being updated when changing context in comment annotation via SDK. Ensures context updates are properly synced to other users.

</Update>


<Update label="5.0.0-beta.3" description="January 22, 2026">

### Improvements

- [**Core**]: Added robustness to initialization when `VeltProvider` was re-rendered multiple times over a slow network.


### Bug Fixes

- [**Comments**]: Refactored `submitComment` method to fix resolver issue for `velt-comment-composer`. Now follows the standard comment submission flow.

- [**Comments**]: Fixed unread status not updating correctly in bottom sheet. This was a regression in v5.

- [**Comments**]: Fixed navigation button not working properly. This was a regression in v5.

- [**Comments**]: Fixed disable recording option not working in `velt-comment-composer`. This was a regression in v5.

</Update>


<Update label="5.0.0-beta.2" description="January 22, 2026">

### New Features

- [**Core**]: Added `globalStyles` option to control whether Velt's global CSS is loaded. Set to `false` to disable default styles when implementing custom theming.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using VeltProvider
<VeltProvider apiKey='API_KEY' config={{
    globalStyles: false
}}>
    {/* Your app content */}
</VeltProvider>

// Using API method
const client = useVeltClient();
client.initConfig('API_KEY', {
  globalStyles: false
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
Velt.initConfig('API_KEY', {
  globalStyles: false
});
</script>
```
</Tab>
</Tabs>

- [**Comments**]: Added `submitComment(targetElementId)` method to programmatically trigger comment submission. Enables custom buttons or keyboard shortcuts for submitting comments. [Learn more](/async-collaboration/comments/customize-behavior#submitcomment)

<Tabs>
<Tab title="React / Next.js">
```jsx

<VeltCommentComposer targetElementId="composer-1" />
<VeltCommentDialogComposer targetElementId="composer-2" />

// Using hook
const commentElement = useCommentUtils();
commentElement.submitComment('composer-1');

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
commentElement.submitComment('composer-1');
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-comment-composer target-element-id="composer-1"></velt-comment-composer>
<velt-comment-dialog-composer target-element-id="composer-2"></velt-comment-dialog-composer>

<button onclick="submitComment('composer-1')">Send 1</button>
<button onclick="submitComment('composer-2')">Send 2</button>

<script>
  function submitComment(targetElementId) {
    const commentElement = Velt.getCommentElement();
    commentElement.submitComment(targetElementId);
  }
</script>
```
</Tab>
</Tabs>

- [**Comments**]: Added `placeholder` prop to customize input placeholder text in comment composer. Overrides default placeholders. [Learn more](/ui-customization/features/async/comments/standalone-components/comment-composer#placeholder)

<Tabs>
<Tab title="React / Next.js">
```jsx
<VeltCommentComposer placeholder="Share your thoughts..." />
<VeltCommentDialogComposer placeholder="Add a comment..." />
```
</Tab>
<Tab title="Other Frameworks">
```html
<velt-comment-composer placeholder="Share your thoughts..."></velt-comment-composer>
<velt-comment-dialog-composer placeholder="Add a comment..."></velt-comment-dialog-composer>
```
</Tab>
</Tabs>

- [**Comments**]: Added `composerTextChange` event that fires when text changes in any comment composer. Enables features like auto-save drafts, character counters, or real-time validation. [Learn more](/async-collaboration/comments/customize-behavior#event-subscription)

<Tabs>
<Tab title="React / Next.js">
```jsx
// Using hook
const composerTextChangeEvent = useCommentEventCallback('composerTextChange');
useEffect(() => {
    if (composerTextChangeEvent) {
        console.log('Text changed:', composerTextChangeEvent.text);
    }
}, [composerTextChangeEvent]);

// Using API method
const client = useVeltClient();
const commentElement = client.getCommentElement();
commentElement.on('composerTextChange').subscribe((event) => {
    console.log('Text changed:', event.text);
});
```
</Tab>
<Tab title="Other Frameworks">
```html
<script>
const commentElement = Velt.getCommentElement();
commentElement.on('composerTextChange').subscribe((event) => {
    console.log('Text changed:', event.text);
});
</script>
```
</Tab>
</Tabs>

</Update>


<Update label="5.0.0-beta.1" description="January 21, 2026">

### Bug Fixes

#### Comment Dialog Primitives

Released 115+ primitive components for building custom comment dialogs. Each subcomponent can now be used independently without requiring the full dialog structure.

<Tabs>
<Tab title="React / Next.js">
```jsx
// Pattern 1: ID-Based (Standalone)
<VeltCommentDialogHeader annotationId="abc123" />
<VeltCommentDialogComposer annotationId="abc123" />

// Pattern 2: Context Wrapper
<VeltCommentDialogContextWrapper annotationId="abc123">
  <VeltCommentDialogHeader />
  <VeltCommentDialogComposer />
  <VeltCommentDialogBody />
</VeltCommentDialogContextWrapper>
```
</Tab>
<Tab title="Other Frameworks">
```html
<!-- Pattern 1: ID-Based (Standalone) -->
<velt-comment-dialog-header annotation-id="abc123"></velt-comment-dialog-header>
<velt-comment-dialog-composer annotation-id="abc123"></velt-comment-dialog-composer>

<!-- Pattern 2: Context Wrapper -->
<velt-comment-dialog-context-wrapper annotation-id="abc123">
  <velt-comment-dialog-header></velt-comment-dialog-header>
  <velt-comment-dialog-composer></velt-comment-dialog-composer>
  <velt-comment-dialog-body></velt-comment-dialog-body>
</velt-comment-dialog-context-wrapper>
```
</Tab>
</Tabs>

**Available Components:**
- **Header/Body**: Header, Body, CloseButton
- **Thread**: ThreadCard with Avatar, Name, Time, Message, Reactions, Recordings, Reply, Options, and more
- **Composer**: Composer, ComposerInput, ComposerActionButton, ComposerAttachmentButton, ComposerRecorderButton, ComposerRecorderPlayer, ComposerFiles
- **Dropdowns**: StatusDropdown, PriorityDropdown, OptionsDropdown, CustomAnnotationDropdown (each with full sub-component breakdown)
- **Additional**: ReplyAvatars, AssigneeBanner, ResolveButton, UnresolveButton, CopyLink, DeleteButton, PrivateBanner, NavigationButton, and 90+ more

[View full documentation â†’](/ui-customization/features/async/comments/comment-dialog-primitives/overview) | [API Methods](/api-reference/sdk/api/api-methods#comment-dialog-primitives) | [Data Models](/api-reference/sdk/models/data-models#comment-dialog-primitives)

</Update>
